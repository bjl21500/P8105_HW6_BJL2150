P8105\_HW6\_BJL2150
================
Briana Lettsome
November 16, 2018

``` r
# Reading in the homicide data set
homicide_data = read_csv("./homicidedata.csv", na = c("", "NA", "Unknown")) 
```

    ## Parsed with column specification:
    ## cols(
    ##   uid = col_character(),
    ##   reported_date = col_integer(),
    ##   victim_last = col_character(),
    ##   victim_first = col_character(),
    ##   victim_race = col_character(),
    ##   victim_age = col_integer(),
    ##   victim_sex = col_character(),
    ##   city = col_character(),
    ##   state = col_character(),
    ##   lat = col_double(),
    ##   lon = col_double(),
    ##   disposition = col_character()
    ## )

read\_csv(file = "./homicidedata.csv")

### Description of the homicide dataset:

The homicide\_data provides information on the numbers of homicides committed within fifty large U.S. cities. Within the dataset, the observations included are the vitcims' first and last name, age, race, city and state that the event transpired in as well as the disposition. The disposition in this context refers to the result of the homicide event. In other words, was the case closed, an arrest made, unsolved, et cetera.

``` r
# Making of the new variable 'city_state'. Also, created a binary variable from disposition and named this new observation 'solved'.

# Using this dataframe to count how many states are in the original dataset prior to filtering out the 4 city_state observations. 

two_homicide_citystate = homicide_data %>%
  mutate(city_state = str_c(city, ", " , state)) %>%
  mutate(outcome = case_when(disposition == "Closed without arrest" ~ "unsolved",
                             disposition == "Open/No arrest"        ~ "unsolved",
                             disposition == "Closed by arrest"      ~ "solved")) %>% 
  count(city_state)  

# This is the working dataframe where the 4 citis were filtered out successfully.

homicide_citystate = homicide_data %>%
  mutate(city_state = str_c(city, ", " , state)) %>% 
  mutate(outcome = case_when(disposition == "Closed without arrest" ~ "unsolved",
                             disposition == "Open/No arrest"        ~ "unsolved",
                             disposition == "Closed by arrest"      ~ "solved")) %>% 
  filter(!city_state %in% c("Dallas, TX", "Phoenix, AZ", "Kansas City, MO", "Tulsa, AL")) %>%
  select(city_state, victim_race, outcome, victim_age, victim_sex) %>%
  mutate(race = case_when(victim_race == "White" ~ "white",
                          victim_race != "White" ~ "non-white")) %>%
  mutate(victim_age = as.numeric(victim_age)) %>%
  filter(race != "" & victim_age != "") 
```

Using the 'glm' function
------------------------

logistic\_homicide = glm(outcome ~ victim\_age + race + victim\_sex, data = homicide\_citystate, family = binomial()) %&gt;% broom::tidy()




    hw6_homicide_citystate = homicide_data
     homicide_citystate = homicide_data %>%
      mutate(city_state = str_c(city, ", " , state)) %>%
      mutate(solved = as.numeric(disposition == "Closed by arrest")) 
             
      filter(!city_state %in% c("Dallas, TX", "Phoenix, AZ", "Kansas City, MO", "Tulsa, AL")) %>%
      select(city_state, victim_race, outcome, victim_age, victim_sex) %>%
      mutate(race = case_when(victim_race == "White" ~ "white",
                              victim_race != "White" ~ "non-white")) %>%
      mutate(victim_age = as.numeric(victim_age)) %>%
      filter(race != "" & victim_age != "") 



        

    %>% filter(!city_state %in% c("Dallas, TX", "Phoenix, AZ", "Kansas City, MO", "Tulsa, AL")) %>%
      select(city_state, victim_race, solved, victim_age)



     resolution = case_when(
          disposition == "Closed without arrest" ~ "unsolved",
          disposition == "Open/No arrest"        ~ "unsolved",
          disposition == "Closed by arrest"      ~ "solved"
        )

%&gt;% mutate(race = (victim\_race == "White"))

\`\`\`

unique(homicide\_citystate$city\_state)

Used this function to determine th unique observations within 'disposition'.
============================================================================

unique(homicide\_citystate$disposition)
